<!doctype html>
<html>
<script src="vendors/jquery.js"></script>
<!-- Prototype Class for Oriented Object supporting -->
<script type="text/javascript" src="https://raw.githubusercontent.com/fernandojunior/prototype_class.js/master/prototype_class.js"></script>
<script src="../repository.js"></script>
<script src="../repositories/rest.js"></script>

<script type="application/javascript">
    
    var HelloWorldView = BaseView.extend({
        prototype : {
            
            api: "get", // request the API with get method
            
            // view initializer
            initialize: function(){
                document.getElementById("content").innerHTML = "Hello ";
            },
            
            before: function(){
                console.log("Before send the call to the API");
                return true; // call the API
            },
            
            // API callback
            callback: function(response){
                // callback error           
            },
        
            // API error callback
            error_callback: function(r){
                console.log("forced error");
            },
            
            // after the callback
            after: function(){
                var content = document.getElementById("content");
                content.innerHTML += "World";
            },
            
            // RESTFUL API respository
            repository: RESTRepository.create({root_path: "https://gist.github.com/fernandojunior"})
            
        }
    });    
    
    function init(){
        var hw = HelloWorldView.create();
        hw.render();        
    }
   
</script>

<body onload="init()">
    
    <div class=page>
        
        <h1>Orders</h1>

        <div id="content">
            
        </div>
    </div>

</body>
</html>